<!DOCTYPE html> 
<html>
<head>
	<meta charset="utf-8">
	<meta name ="viewport" content="width=device-width,initial-scale=1.0">
	<title>REGISTRATION FORM</title>
    <link rel="stylesheet" type="text/css" href="C:\Users\Aman\Desktop\JSscript\jsALLPROJECTS\jspro6loadpage\load.html">
	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
	<link rel="stylesheet" type="text/css" href="C:\Users\Aman\Desktop\JSscript\jsALLPROJECTS\jspro2formadvance\formAD.css">
    <link rel="stylesheet" type="text/css" href="jsALLPROJECTS\css.css">
</head>
<body>
	<div class="container">
		<div class="header">
           <h2><i>REGISTRATION FORM</i></h2>
		</div>
		<form class="form" id ="form">
			<div class="form-control">
				<lable>Username</lable>
				<input type="text" name="" id="username" placeholder="Enter your full name" autocomplete="off">
			    <i class="fas fa-check-circle"></i>
				<i class="fas fa-exclamation"></i>
				<small >Error.msg</small>

			</div>

			<div class="form-control">
				<lable>Email</lable>
			    <input type="text" name="" id="email" placeholder="Enter your full Email" autocomplete="off">
			    <i class="fas fa-check-circle"></i>
				<i class="fas fa-exclamation"></i>
				<small >Error.msg</small>
			</div>

			<div class="form-control">
				<lable>Phone Number</lable>
				<input type="number" name="" id="phone" placeholder="Enter your full number" autocomplete="off">
			   <i class="fas fa-check-circle"></i>
				<i class="fas fa-exclamation"></i>
				<small >Error.msg</small>
			</div>

			<div class="form-control">
				<lable>Password</lable>
				<input type="password" name="" id="password" placeholder="Enter your password" autocomplete="off">
			    <i class="fas fa-check-circle"></i>
				<i class="fas fa-exclamation"></i>

				<small >Error.msg</small>
			</div>

			<div class="form-control">
				<lable>Confirm password</lable>
				<input type="password" name="" id="copassword" placeholder="Enter confirm password" autocomplete="off">
			   <i class="fas fa-check-circle"></i>
				<i class="fas fa-exclamation"></i>
			</div> 
			<input  type="submit" value="submit" class="btn" name="">
		</form>	
	</div>	
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script type="text/javascript">

  const form = document.getElementById('form');
  const username = document.getElementById('username');
  const email = document.getElementById('email');
  const phone = document.getElementById('phone');
  const password = document.getElementById('password');
  const copassword = document.getElementById('copassword');

            //add event

   form.addEventListener('submit',(event) =>{
	    event.preventDefault();
        // validate();
        successMsg();
   })
    
    // const sendData = (sRate,count) => {
    //      if(sRate === count){
    //      	alert('Registration Successfull');
    //      	swal("Welcome!","Registration Successfull","success");
    //      }
    // }

   //final round
   const successMsg = () =>{
   		let newusername = document.getElementById('username').value.trim();
   		if(newusername  === ""){
    		setErrorMsg(username,'username can not be blank');
    		return;
    	}else if(newusername.length <=2){
    		setErrorMsg(username,'username should be more than two words');
    		return;
    	}else{
    		setSuccessMsg(username);
    	}
   		console.log(newusername);

        let newemail = document.getElementById('email').value.trim();
   		if(newemail === ""){
    		setErrorMsg(email,'email can not be blank');
    		return;
    	}else if(!validateEmail(newemail)){
    		setErrorMsg(email,'Not a valid Email');
    		return
    	}else{
    		setSuccessMsg(email);
    	}
        console.log(newemail);
        
        let newphone = document.getElementById('phone').value.trim();
        if(newphone === ""){
    		setErrorMsg(phone,'number can not be blank');
    		return;
    	}else if(newphone.length != 10){
    		setErrorMsg(phone,'Not a valid number');
    		return;
    	}else{
    		setSuccessMsg(phone);
    	}
        console.log(newphone);
        
        let newpassword = document.getElementById('password').value.trim();
        if(newpassword === ""){
    		setErrorMsg(password,'password can not be null');
    	}else if(newpassword.length <= 5){
    		setErrorMsg(password,'Minimum 6 charecter');
    	}else{
    		setSuccessMsg(password);
    	}
    	console.log(newpassword);
        

        let newcopassword = document.getElementById('copassword').value.trim();
    	if(newcopassword === ""){
    		setErrorMsg(copassword,'password can not be null');
    	}else if(newpassword != newcopassword){
    		setErrorMsg(copassword,'password not matching');
    	}else{
    		setSuccessMsg(copassword);
    	}
    	console.log(newcopassword);
   		// alert('Registration Successfull');
        swal("Welcome!","Registration Successfull","success");
	
		myFunction();   	
	}

	function myFunction() {
        window.location.href="http://programminghead.com";
    }

           //more email validity

   // const isEmail=(emailval) =>{
   //   	var atSymbol = emailVal.indexOf("@");
   //   	if(atSymbol < 1) return false;
   //   	var dot = emailVal.lastIndexOf('.');
   //   	if(dot <= atSymbol + 2) return false;
   //  	if(dot === emailVal.length - 1) return false;
   //  	return true;
   //  }    
        //define the validity function

 //    const validate = () => {
 //    	const usernameVal = username.value.trim();
 //        const emailVal = email.value.trim();
 //        const phoneVal = phone.value.trim();
 //        const passwordVal = password.value.trim();
 //        const copasswordVal = copassword.value.trim();

 //        if(usernameVal  === ""){
 //    		setErrorMsg(username,'username can not be blank');
 //    	}else if(usernameVal.length <=2){
 //    		setErrorMsg(username,'username should be more than two words');
 //    	}else{
 //    		setSuccessMsg(username);
 //    	}

 //        //validity email

 //    	if(emailVal === ""){
 //    		setErrorMsg(email,'email can not be blank');
 //    	}else if(!isEmail === emailVal){
 //    		setErrorMsg(email,'Not a valid Email');
 //    	}else{
 //    		setSuccessMsg(email);
 //    	}

 //        //validity phone

 //    	if(phoneVal === ""){
 //    		setErrorMsg(phone,'number can not be blank');
 //    	}else if(phoneVal.length != 10){
 //    		setErrorMsg(phone,'Not a valid number');
 //    	}else{
 //    		setSuccessMsg(phone);
 //    	}

 //       //validity password
	// 	if(passwordVal === ""){
 //    		setErrorMsg(password,'password can not be null');
 //    	}else if(passwordVal.length <= 5){
 //    		setErrorMsg(password,'Minimum 6 charecter');
 //    	}else{
 //    		setSuccessMsg(password);
 //    	}

 //        //validity password

	//     if(copasswordVal === ""){
 //    		setErrorMsg(copassword,'password can not be null');
 //    	}else if(passwordVal != copasswordVal){
 //    		setErrorMsg(copassword,'password not matching');
 //    	}else{
 //    		setSuccessMsg(copassword);
 //    	}

 //    	successMsg();
	// }
     function setSuccessMsg(input){
     	const formControl = input.parentElement;
     	formControl.className ="form-control success";
     }
     
     function setErrorMsg(input,errormsgs){
     	const formControl = input.parentElement;
     	const small = formControl.querySelector('small');
     	formControl.className ="form-control error";
     	small.innerText = errormsgs;
     }

    function validateEmail(email) {
  		const res = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  		return res.test(String(email).toLowerCase());
	}

</script>
</body>
</html>